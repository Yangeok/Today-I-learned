# Tableau Server 구성

- 서버는 기본적으로 `80`, `443` 포트로 제공되며, MacOS 데스크탑에서 접속은 `443` 포트로만 가능하다
- 관리자 페이지는 `8500` 포트로 접속할 수 있다
- 아래는 Tableau Server를 이루는 서비스 목록이다. 자체 개발 솔루션 VizQL, Hyper을 제외한 나머지 서비스들은 오픈소스를 사용하는 것을 확인할 수 있다
  - 게이트웨이: 웹 인터페이스로 내부적으로는 Apache를 사용한다
  - 응용 프로그램 서버(VizPortal): 웹페이지의 요청을 처리한다
  - 대화형/비대화형 마이크로서비스 컨테이너: 서버가 내부적으로 사용하는 마이크로서비스들을 관리한다
    - `tsm status -v` 명령을 쳐보면 어떤 것들을 관리하고 있는지 알 수 있다
  - VizQL 서버: 쿼리를 실행하고 뷰를 그리는 핵심적인 역할을 한다
  - 캐시 서버: 쿼리 캐시로 내부적으로는 redis 를 사용한다
  - 클러스터 컨트롤러: 주요 기능들을 모니터링하고 실패를 감지하고 재실행을 한다
  - 검색 및 찾아보기: 서버에서 워크북을 검색하거나 필터를 거는 등의 검색에서 사용한다. 내부적으로는 solr 를 사용합니다.
  - 백그라운더: 추출을 업데이트하는 등 여러 가지 종류의 Task 들을 백그라운드에서 처리한다
  - 데이터 서버: 서버가 보관하고 있는 데이터들을 제공하는 일을 한다
  - 데이터 엔진: Hyper 라는 메모리 데이터엔진을 사용하며, 이전보다 훨씬 빠르게 쿼리와 추출이 된다. 이종 데이터베이스 간의 조인시에도 사용된다
  - 파일저장소: 추출된 파일을 보관한다
  - 리포지토리: 사용자정보, 퍼미션, 프로젝트, 메타데이터 등을 보관한다. 내부적으로는 postgresql을 사용합니다.
  - Tableau Prep 컨덕터: Tableau Prep Builder에서 생성되어 서버에 올라간 흐름을 실행시켜주는 역할을 한다. Tableau Prep 컨덕터를 사용하려면 Data Management 라이센스가 필요하다
  - 데이터에 질문: 서버에서 제공하는 “데이터에 질문하기” 기능을 제공한다
  - 탄력적 서버: 데이터에 질문하기를 위한 인덱스를 제공한다. 내부적으로는 elasticsearch를 사용한다
  - 메시징 서비스: 서버와 마이크로서비스 간의 통신을 위해 사용됩니다. 내부적으로는 ActiveMQ를 사용한다
  - TSM 컨트롤러: 서버를 컨트롤할 수 있는 REST API를 제공한다
  - 라이선스 서버: 태블로 라이센스를 관리한다
